# de_pet_project
pet data engineering project with airflow, spark, clickhouse and postgre.

В этом пет проекте будет реализован ETL-пайплайн в учебных и демонстрационных целях.
По мере развития readme будет подробнее.

Данные генерируются при помощи библиотеки __Faker__ с генерацией NULL значений и дубликатов на лету.
Это необходимо для приближенных к реальным условиям загрузки данных. Степень "загрязнённости" данных можно регулировать непосредственно в соответствующих функциях в коде.
В данный момент генерация нулей примерно около 2% от общего объёма, а генерация дубликатов в 10% случаев от общего олбъёма данных, но случайное число от 10%, то есть в общей сложности менее 10 единиц на 1000 строк.

Для запуска проекта необходим установленный __Docker__ на компьютере.
После скачивания проекта необходимо выполнить команду:
```
docker-compose up -d
```

Далее выполнить команду:
```
docker exec ch_server python3 main.py
```

Эта команда запустит Python скрипт внутри контейнера и наполнит БД тестовыми данными.
После её выполнения вы должны увидеть сообщение:
```
Данные в clickhouse успешно записаны
```
